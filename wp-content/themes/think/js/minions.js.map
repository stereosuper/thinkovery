{"version":3,"sources":["webpack:///./wp-content/themes/think/src/js/components/minions.js"],"names":["minionsHandler","homeSections","query","selector","video","minions","length","isSafari","snif","tweenOptimizations","force3D","planePath","plane","morpion","player","newDrop","animsState","launched","done","animsLaunched","Object","keys","filter","section","reduce","accumulator","val","videoFunctions","state","initiated","mouseover","mouseleave","promptScrollDownInterval","wh","window","innerHeight","ww","innerWidth","initialShapeTop","getBoundingClientRect","top","introBottom","videoBottom","playerCenterY","offsetHeight","sectionsIntersectionRatio","samplesNumber","thresholdSamples","index","observer","learningFirstPartDone","headerAnim","remove","cloneNode","parentElement","appendChild","tlPlayer","TimelineMax","promptScrollDownAnimation","duration","TweenMax","to","x","y","rotation","ease","Power2","easeInOut","onComplete","Back","easeOut","config","promptScrollDownLoop","setInterval","scale","opacity","Power4","easeIn","classList","add","set","ctx","delay","Elastic","onStart","clearInterval","addEventListener","Power1","bezier","curviness","values","learningAnim","ratio","bis","secondSectionBottom","planePathBezier","MorphSVGPlugin","pathDataToBezier","planeBottom","bottom","drawSVG","type","autoRotate","Expo","transformOrigin","offersAnim","dropBottom","aboutAnim","minionsFourthSection","fourthSectionBottom","durationSmall","delayFall","easing","easePop","Sine","scaleX","experiencesAnim","minionsMorpion","tl","intersectionCallback","entries","forEach","entry","intersectionRatio","target","id","initAnims","IntersectionObserver","root","rootMargin","threshold","observe","resetAnims","removeEventListener","isDisplayed","win","addResizeEndFunction"],"mappings":"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","file":"minions.js","sourcesContent":["import {\n    TimelineMax,\n    TweenMax,\n    Power1,\n    Power2,\n    Power4,\n    Back,\n    Elastic,\n    Expo,\n    Sine,\n} from 'gsap';\nimport { MorphSVGPlugin } from '../plugins/MorphSVGPlugin';\nimport '../plugins/DrawSVGPlugin';\n\nimport { easing } from '../global';\nimport { forEach, query, isDisplayed } from '../utils';\nimport win from '../utils/Window';\nimport snif from '../utils/Snif';\n\nconst minionsHandler = () => {\n    const homeSections = query({ selector: '.js-home-section' });\n    const [video] = query({ selector: '#home-video' });\n    let minions = query({ selector: '.shape' });\n\n    if (!homeSections.length || !video || !minions.length) return;\n    const isSafari = snif.isSafari();\n    const tweenOptimizations = isSafari ? { force3D: false } : {};\n\n    const [planePath] = query({ selector: '#plane-path path' });\n    const [plane] = query({ selector: '#plane' });\n    const [morpion] = query({ selector: '#morpion' });\n    let player = null;\n    let newDrop = null;\n\n    const animsState = {\n        'home-intro': { launched: false, done: false },\n        'home-learning-experience': { launched: false, done: false },\n        'home-offers': { launched: false, done: false },\n        'home-about-us': { launched: false, done: false },\n        'home-experiences': { launched: false, done: false },\n        get animsLaunched() {\n            return Object.keys(this)\n                .filter(section => section !== 'animsLaunched')\n                .reduce(\n                    (accumulator, val) => accumulator || this[val].launched,\n                    false\n                );\n        },\n    };\n\n    const videoFunctions = {\n        state: {\n            initiated: false,\n        },\n        mouseover: null,\n        mouseleave: null,\n    };\n\n    // Intervals\n    let promptScrollDownInterval = null;\n\n    let wh = window.innerHeight;\n    let ww = window.innerWidth;\n\n    let initialShapeTop = minions[0].getBoundingClientRect().top;\n\n    let introBottom =\n        homeSections[1].getBoundingClientRect().top - initialShapeTop - 70;\n\n    let videoBottom = wh / 2;\n\n    let playerCenterY =\n        video.getBoundingClientRect().top -\n        initialShapeTop +\n        video.offsetHeight / 2;\n\n    // Constants used to create the intersection observer threshold array\n    const sectionsIntersectionRatio = 0.25;\n    const samplesNumber = 10;\n    const thresholdSamples = [];\n    let index = 0;\n    let observer = null;\n\n    let learningFirstPartDone = false;\n\n    const headerAnim = () => {\n        if (player) {\n            player.remove();\n        }\n        player = minions[2].cloneNode(true);\n        minions[2].parentElement.appendChild(player);\n\n        const tlPlayer = new TimelineMax();\n\n        const promptScrollDownAnimation = (duration = 0.7) => {\n            TweenMax.to(player, duration, {\n                x: -10,\n                y: videoBottom - 70,\n                rotation: 90,\n                ease: Power2.easeInOut,\n                onComplete: () => {\n                    TweenMax.to(player, 0.3, {\n                        y: videoBottom - 50,\n                        ease: Back.easeOut.config(1.2),\n                    });\n                },\n            });\n        };\n\n        const promptScrollDownLoop = () => {\n            promptScrollDownInterval = setInterval(\n                promptScrollDownAnimation,\n                2000\n            );\n        };\n\n        animsState['home-intro'].launched = true;\n\n        tlPlayer\n            .to(player, 0.3, {\n                scale: 4,\n                opacity: 1,\n                ...tweenOptimizations,\n                ease: Power4.easeIn,\n                onComplete: () => {\n                    if (video) {\n                        video.classList.add('player-on', 'on');\n                        TweenMax.set(\n                            query({ selector: '.iframe', ctx: video }),\n                            {\n                                opacity: 1,\n                                delay: 0.7,\n                            }\n                        );\n                    }\n                },\n            })\n            .to(player, 0.2, {\n                scale: 3,\n                ...tweenOptimizations,\n                ease: Power2.easeOut,\n            })\n            .to(player, 1, {\n                x: -10,\n                y: videoBottom - 50,\n                rotation: 90,\n                ease: Elastic.easeOut.config(1.1, 0.9),\n                delay: 0.3,\n                onStart: () => {\n                    animsState['home-intro'].done = true;\n\n                    if (!videoFunctions.mouseover) {\n                        videoFunctions.mouseover = () => {\n                            if (!videoFunctions.state.initiated) {\n                                videoFunctions.state.initiated = true;\n                            }\n                            if (promptScrollDownInterval) {\n                                clearInterval(promptScrollDownInterval);\n                            }\n\n                            TweenMax.to(player, 0.2, {\n                                x: 0,\n                                y: playerCenterY,\n                                rotation: 0,\n                            });\n                        };\n                    }\n\n                    video.addEventListener(\n                        'mouseover',\n                        videoFunctions.mouseover,\n                        false\n                    );\n\n                    if (!videoFunctions.mouseleave) {\n                        videoFunctions.mouseleave = () => {\n                            if (videoFunctions.state.initiated) {\n                                promptScrollDownAnimation(0.3);\n                                promptScrollDownLoop();\n                            }\n                        };\n                    }\n\n                    video.addEventListener(\n                        'mouseleave',\n                        videoFunctions.mouseleave,\n                        false\n                    );\n\n                    promptScrollDownLoop();\n                },\n            });\n\n        TweenMax.set([minions[0], minions[1], minions[3], minions[4]], {\n            opacity: 1,\n        });\n\n        TweenMax.to([minions[0], minions[1], minions[3], minions[4]], 0.5, {\n            scale: 3,\n            ...tweenOptimizations,\n            ease: Power1.easeIn,\n        });\n\n        TweenMax.to(minions[0], 1.8, {\n            bezier: {\n                curviness: 1,\n                values: [\n                    { x: -100, y: -30 },\n                    { x: -200, y: 0 },\n                    { x: -240, y: introBottom + 100 },\n                ],\n            },\n            ease: Power2.easeOut,\n            delay: 0.15,\n        });\n\n        TweenMax.to(minions[1], 1.8, {\n            bezier: {\n                curviness: 1,\n                values: [\n                    { x: -50, y: -70 },\n                    { x: -100, y: -50 },\n                    { x: -130, y: introBottom + 100 },\n                ],\n            },\n            ...tweenOptimizations,\n            ease: Power2.easeOut,\n            delay: 0.15,\n        });\n\n        TweenMax.set(minions[2], {\n            x: 0,\n            y: introBottom + 100,\n            scale: 3,\n            opacity: 1,\n            ...tweenOptimizations,\n        });\n\n        TweenMax.to(minions[3], 1.8, {\n            bezier: {\n                curviness: 1,\n                values: [\n                    { x: 50, y: -60 },\n                    { x: 100, y: -40 },\n                    { x: 130, y: introBottom + 100 },\n                ],\n            },\n            delay: 0.15,\n            ease: Power2.easeOut,\n        });\n\n        TweenMax.to(minions[4], 1.8, {\n            bezier: {\n                curviness: 1,\n                values: [\n                    { x: 100, y: -10 },\n                    { x: 190, y: 10 },\n                    { x: 240, y: introBottom + 100 },\n                ],\n            },\n            delay: 0.15,\n            ease: Power2.easeOut,\n        });\n    };\n\n    const learningAnim = ratio => {\n        if (!animsState['home-learning-experience'].launched) {\n            animsState['home-learning-experience'].launched = true;\n\n            if (promptScrollDownInterval) {\n                clearInterval(promptScrollDownInterval);\n            }\n\n            TweenMax.to(minions[2], 0.7, {\n                x: 0,\n                y: introBottom + 100,\n                rotation: 0,\n                ease: Back.easeInOut.config(2),\n                onComplete: () => {\n                    learningFirstPartDone = true;\n                },\n            });\n        } else if (ratio > sectionsIntersectionRatio && learningFirstPartDone) {\n            animsState['home-learning-experience'].bis = true;\n\n            const secondSectionBottom = homeSections[1].offsetHeight + ww / 50;\n            const planePathBezier = planePath\n                ? MorphSVGPlugin.pathDataToBezier(planePath)\n                : '';\n\n            const planeBottom =\n                planePath.getBoundingClientRect().bottom -\n                minions[0].getBoundingClientRect().bottom;\n\n            if (promptScrollDownInterval) {\n                clearInterval(promptScrollDownInterval);\n            }\n\n            TweenMax.to(planePath, 1.5, { drawSVG: '100%' });\n            TweenMax.to(plane, 1.5, {\n                bezier: {\n                    values: planePathBezier,\n                    type: 'cubic',\n                    autoRotate: true,\n                    ease: Expo.easeOut,\n                },\n                onComplete: () => {\n                    TweenMax.to(minions[0], 1, {\n                        bezier: {\n                            curviness: 1,\n                            values: [\n                                {\n                                    x: '+=60',\n                                    y: `+=${secondSectionBottom / 2}`,\n                                },\n                                {\n                                    x: '+=200',\n                                    y: `+=${planeBottom}`,\n                                },\n                            ],\n                        },\n                        ease: Back.easeInOut.config(1),\n                    });\n\n                    TweenMax.to(minions[1], 1.2, {\n                        bezier: {\n                            curviness: 1,\n                            values: [\n                                { y: `+=${secondSectionBottom / 2}` },\n                                {\n                                    x: '+=10',\n                                    y: `+=${secondSectionBottom - 60}`,\n                                },\n                            ],\n                        },\n                        ease: Power4.easeInOut,\n                    });\n\n                    TweenMax.to(minions[2], 1.4, {\n                        rotation: 450,\n                        bezier: {\n                            curviness: 1,\n                            values: [\n                                { y: `+=${secondSectionBottom / 2}` },\n                                { y: `+=${secondSectionBottom - 40}` },\n                            ],\n                        },\n                        ease: Back.easeInOut.config(1.1),\n                    });\n\n                    TweenMax.set(minions[3], {\n                        x: 153,\n                        y: introBottom + 123,\n                        transformOrigin: '100% 100%',\n                    });\n\n                    TweenMax.to(minions[3], 1.2, {\n                        bezier: {\n                            curviness: 1,\n                            values: [\n                                {\n                                    x: '+=80',\n                                    y: `+=${secondSectionBottom / 2}`,\n                                    rotation: 0,\n                                },\n                                {\n                                    x: '+=20',\n                                    y: `+=${secondSectionBottom - 20}`,\n                                    rotation: 30,\n                                },\n                                {\n                                    x: '-=20',\n                                    y: `+=${secondSectionBottom - 18}`,\n                                    rotation: 0,\n                                },\n                            ],\n                        },\n                        ease: Power1.easeInOut,\n                    });\n\n                    TweenMax.to(minions[4], 1.5, {\n                        bezier: {\n                            curviness: 1,\n                            values: [\n                                {\n                                    x: '+=80',\n                                    y: `+=${secondSectionBottom / 2}`,\n                                    rotation: -180,\n                                },\n                                {\n                                    x: '-=20',\n                                    y: `+=${secondSectionBottom}`,\n                                    rotation: -720,\n                                },\n                            ],\n                        },\n                        ease: Power4.easeOut,\n                        onComplete: () => {\n                            animsState['home-learning-experience'].done = true;\n                        },\n                    });\n                },\n            });\n        }\n    };\n\n    const offersAnim = () => {\n        if (newDrop) {\n            newDrop.remove();\n        }\n        newDrop = minions[0].cloneNode(true);\n        minions[0].parentElement.appendChild(newDrop);\n\n        const duration = 0.5;\n        const delay = 0.05;\n\n        const dropBottom =\n            minions[4].getBoundingClientRect().bottom -\n            minions[0].getBoundingClientRect().bottom;\n\n        animsState['home-offers'].launched = true;\n\n        TweenMax.to(newDrop, duration, {\n            bezier: {\n                curviness: 1,\n                values: [\n                    { x: '-=160', y: `+=${dropBottom / 2}` },\n                    { x: '-=200', y: `+=${dropBottom}` },\n                ],\n            },\n            ease: Back.easeInOut.config(1),\n            delay,\n        });\n        TweenMax.to(minions[1], duration, {\n            y: '+=60',\n            ease: Power4.easeInOut,\n            delay: delay * 2,\n        });\n        TweenMax.to(minions[2], duration, {\n            rotation: 360,\n            y: '+=40',\n            ease: Back.easeInOut.config(1.5),\n            delay,\n        });\n        TweenMax.to(minions[3], duration, {\n            y: '+=20',\n            ease: Power1.easeInOut,\n        });\n    };\n\n    const aboutAnim = () => {\n        const minionsFourthSection = query({\n            selector: '.shape',\n            ctx: homeSections[3],\n        });\n        const fourthSectionBottom = homeSections[3].offsetHeight - 300;\n        const duration = 0.8;\n        const durationSmall = 0.25;\n        const delay = 0.25;\n        const delayFall = 0.07;\n\n        animsState['home-about-us'].launched = true;\n\n        // arrow  1\n        TweenMax.to(minionsFourthSection[9], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[9], duration, {\n                    y: fourthSectionBottom,\n                    rotation: -470,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n        });\n\n        // triangle 1\n        TweenMax.to(minionsFourthSection[3], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[3], duration, {\n                    y: fourthSectionBottom,\n                    rotation: -90,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay,\n        });\n\n        // drop\n        TweenMax.to(minionsFourthSection[0], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[0], duration, {\n                    y: fourthSectionBottom,\n                    ease: Power1.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 2,\n        });\n\n        // square 1\n        TweenMax.to(minionsFourthSection[1], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[1], duration, {\n                    y: fourthSectionBottom + 5,\n                    rotation: 45,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 3,\n        });\n\n        // rectangle 1\n        TweenMax.to(minionsFourthSection[7], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            scaleX: -1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[7], duration, {\n                    y: fourthSectionBottom,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 4,\n        });\n\n        // triangle 2\n        TweenMax.to(minionsFourthSection[5], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[5], duration, {\n                    y: fourthSectionBottom,\n                    rotation: -90,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 4.5,\n        });\n\n        // square 2\n        TweenMax.to(minionsFourthSection[2], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[2], duration, {\n                    y: fourthSectionBottom - 31,\n                    rotation: -7,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 6.5,\n        });\n\n        // rectangle 2\n        TweenMax.to(minionsFourthSection[8], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            scaleX: -1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[8], duration, {\n                    y: fourthSectionBottom - 75,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 7.5,\n        });\n\n        // arrow  2\n        TweenMax.to(minionsFourthSection[10], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[10], duration, {\n                    y: fourthSectionBottom - 65,\n                    rotation: -860,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 8,\n        });\n\n        // triangle 3\n        TweenMax.to(minionsFourthSection[4], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[4], duration, {\n                    y: fourthSectionBottom - 55,\n                    rotation: -135,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 9,\n        });\n\n        // rectangle 3\n        TweenMax.to(minionsFourthSection[6], durationSmall, {\n            scale: 1,\n            opacity: 1,\n            scaleX: -1,\n            ease: easing.easePop,\n            onComplete: () => {\n                TweenMax.to(minionsFourthSection[6], duration, {\n                    y: fourthSectionBottom - 59,\n                    ease: Sine.easeIn,\n                    delay: delayFall,\n                });\n            },\n            delay: delay * 10,\n        });\n    };\n\n    const experiencesAnim = () => {\n        if (!morpion) return;\n\n        const minionsMorpion = query({ selector: '.shape', ctx: morpion });\n        const duration = 0.15;\n        const delay = 0.5;\n        const tl = new TimelineMax({ delay: 0.8 });\n\n        animsState['home-experiences'].launched = true;\n\n        morpion.classList.add('on');\n        tl.to(minionsMorpion[1], duration, {\n            scale: 1,\n            opacity: 1,\n            ease: Back.easeInOut.config(0.5),\n        })\n            .to(minionsMorpion[0], duration, {\n                scale: 1,\n                opacity: 1,\n                ease: Back.easeInOut.config(0.5),\n                delay,\n            })\n            .to(minionsMorpion[2], duration, {\n                scale: 1,\n                opacity: 1,\n                ease: Back.easeInOut.config(0.5),\n                delay,\n            })\n            .to(minionsMorpion[4], duration, {\n                scale: 1,\n                opacity: 1,\n                ease: Back.easeInOut.config(0.5),\n                delay,\n            })\n            .to(minionsMorpion[3], duration, {\n                scale: 1,\n                opacity: 1,\n                ease: Back.easeInOut.config(0.5),\n                delay,\n                onComplete: () => {\n                    TweenMax.to(\n                        [\n                            minionsMorpion[1],\n                            minionsMorpion[2],\n                            minionsMorpion[3],\n                        ],\n                        duration,\n                        {\n                            rotation: 10,\n                            scale: 1.1,\n                            ease: Back.easeInOut.config(0.5),\n                            delay,\n                            onComplete: () => {\n                                TweenMax.to(\n                                    [\n                                        minionsMorpion[1],\n                                        minionsMorpion[2],\n                                        minionsMorpion[3],\n                                    ],\n                                    duration,\n                                    {\n                                        rotation: 0,\n                                        scale: 1,\n                                        ease: Back.easeInOut.config(2),\n                                    }\n                                );\n                            },\n                        }\n                    );\n                },\n            });\n    };\n\n    const intersectionCallback = entries => {\n        forEach(entries, entry => {\n            if (entry.intersectionRatio < sectionsIntersectionRatio) return;\n\n            switch (entry.target.id) {\n                case 'home-intro':\n                    if (!animsState[entry.target.id].launched) headerAnim();\n                    break;\n                case 'home-learning-experience':\n                    if (\n                        !animsState[entry.target.id].bis &&\n                        animsState['home-intro'].done\n                    )\n                        learningAnim(entry.intersectionRatio);\n                    break;\n                case 'home-offers':\n                    if (\n                        !animsState[entry.target.id].launched &&\n                        animsState['home-learning-experience'].done\n                    )\n                        offersAnim();\n                    break;\n                case 'home-about-us':\n                    if (!animsState[entry.target.id].launched) aboutAnim();\n                    break;\n                case 'home-experiences':\n                    if (!animsState[entry.target.id].launched)\n                        experiencesAnim();\n                    break;\n                default:\n                    break;\n            }\n        });\n    };\n\n    const initAnims = () => {\n        for (index; index <= samplesNumber; index += 1) {\n            thresholdSamples[index] = index / samplesNumber;\n        }\n\n        observer = new IntersectionObserver(intersectionCallback, {\n            root: null,\n            rootMargin: '0px',\n            threshold: thresholdSamples,\n        });\n\n        forEach(homeSections, section => {\n            observer.observe(section);\n            animsState[section.id] = {\n                launched: false,\n                done: false,\n                bis: false,\n            };\n        });\n\n        TweenMax.set(planePath, { drawSVG: 0 });\n    };\n\n    const resetAnims = () => {\n        minions = query({ selector: '.shape' });\n\n        TweenMax.set(minions, {\n            opacity: 0,\n            scale: 0,\n            x: 0,\n            y: 0,\n            rotation: 0,\n        });\n\n        TweenMax.set(minions[3], {\n            transformOrigin: '50% 50%',\n        });\n\n        if (videoFunctions.mouseover) {\n            video.removeEventListener('mouseover', videoFunctions.mouseover);\n        }\n        if (videoFunctions.mouseleave) {\n            video.removeEventListener('mouseover', videoFunctions.mouseleave);\n        }\n\n        TweenMax.set(planePath, { drawSVG: 0 });\n        TweenMax.set(plane, {\n            x: 0,\n            y: 0,\n            rotation: 0,\n        });\n\n        forEach(homeSections, section => {\n            animsState[section.id] = { launched: false, done: false };\n        });\n    };\n\n    // launch anims if minions are visible (window width > 960)\n\n    if (isDisplayed(minions[0])) initAnims();\n\n    // Resize part\n    win.addResizeEndFunction(() => {\n        if (!isDisplayed(minions[0])) return;\n        // If anims were launched restart them\n        if (animsState.animsLaunched) resetAnims();\n\n        wh = window.innerHeight;\n        ww = window.innerWidth;\n        videoBottom = wh / 2;\n        initialShapeTop = minions[0].getBoundingClientRect().top;\n        introBottom =\n            homeSections[1].getBoundingClientRect().top - initialShapeTop - 70;\n\n        playerCenterY =\n            video.getBoundingClientRect().top -\n            initialShapeTop +\n            video.offsetHeight / 2;\n\n        if (promptScrollDownInterval) {\n            clearInterval(promptScrollDownInterval);\n        }\n\n        // If you're not in mobile or tablet but you started with a small screen and now have a bigger one let's launch anims\n        if (!animsState.animsLaunched) initAnims();\n    });\n};\n\nexport default minionsHandler;\n"],"sourceRoot":""}