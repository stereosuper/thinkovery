{"version":3,"sources":["webpack:///./wp-content/themes/think/src/js/components/accordion.js"],"names":["accordionHandler","accordions","query","selector","length","forEach","accordion","ctx","title","addEventListener","parent","parentElement","answer","alreadyActivated","classList","contains","answerContent","maxHeight","getBoundingClientRect","height","resetParent","remove","TweenMax","to","opacity","ease","easing","easeFade","add","setTimeout","offset","top","window","scrollY","scrollTo","y","offsetY","globalStyles","lineHeight"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,MAAMC,UAAU,GAAGC,oDAAK,CAAC;AACrBC,YAAQ,EAAE;AADW,GAAD,CAAxB;AAIA,MAAI,CAACF,UAAU,CAACG,MAAhB,EAAwB;AAExBC,wDAAO,CAACJ,UAAD,EAAa,UAAAK,SAAS,EAAI;AAAA,iBACbJ,oDAAK,CAAC;AAAEC,cAAQ,EAAE,IAAZ;AAAkBI,SAAG,EAAED;AAAvB,KAAD,CADQ;AAAA;AAAA,QACtBE,KADsB;;AAG7BA,SAAK,CAACC,gBAAN,CACI,OADJ,EAEI,YAAM;AACF,UAAMC,MAAM,GAAGF,KAAK,CAACG,aAArB;AACA,UAAMC,MAAM,GAAGV,oDAAK,CAAC;AACjBC,gBAAQ,EAAE,YADO;AAEjBI,WAAG,EAAEC,KAAK,CAACG;AAFM,OAAD,CAApB;AAIA,UAAME,gBAAgB,GAAGH,MAAM,CAACI,SAAP,CAAiBC,QAAjB,CAA0B,WAA1B,CAAzB;;AANE,oBAOsBb,oDAAK,CAAC;AAC1BC,gBAAQ,EAAE,iBADgB;AAE1BI,WAAG,EAAEC,KAAK,CAACG;AAFe,OAAD,CAP3B;AAAA;AAAA,UAOKK,aAPL;;AAWF,UAAMC,SAAS,GAAGD,aAAa,CAACE,qBAAd,GAAsCC,MAAxD;AAEAd,4DAAO,CAACJ,UAAD,EAAa,UAAAmB,WAAW,EAAI;AAC/BA,mBAAW,CAACN,SAAZ,CAAsBO,MAAtB,CAA6B,WAA7B;AACAC,qDAAQ,CAACC,EAAT,CACIrB,oDAAK,CAAC;AAAEC,kBAAQ,EAAE,YAAZ;AAA0BI,aAAG,EAAEa;AAA/B,SAAD,CADT,EAEI,GAFJ,EAGI;AACIH,mBAAS,EAAE,CADf;AAEIO,iBAAO,EAAE,CAFb;AAGIC,cAAI,EAAEC,8CAAM,CAACC;AAHjB,SAHJ;AASH,OAXM,CAAP;AAaA,UAAId,gBAAJ,EAAsB;AAEtBS,mDAAQ,CAACC,EAAT,CAAYX,MAAZ,EAAoB,GAApB,EAAyB;AACrBK,iBAAS,EAATA,SADqB;AAErBO,eAAO,EAAE,CAFY;AAGrBC,YAAI,EAAEC,8CAAM,CAACC;AAHQ,OAAzB;AAKAjB,YAAM,CAACI,SAAP,CAAiBc,GAAjB,CAAqB,WAArB;AAEAC,gBAAU,CAAC,YAAM;AACb,YAAMC,MAAM,GACRtB,KAAK,CAACU,qBAAN,GAA8Ba,GAA9B,GAAoCC,MAAM,CAACC,OAD/C;AAEAX,qDAAQ,CAACC,EAAT,CAAYS,MAAZ,EAAoB,GAApB,EAAyB;AACrBE,kBAAQ,EAAE;AACNC,aAAC,EAAEL,MADG;AAENM,mBAAO,EAAEC,oDAAY,CAACC;AAFhB,WADW;AAKrBb,cAAI,EAAEC,8CAAM,CAACC;AALQ,SAAzB;AAOH,OAVS,EAUP,GAVO,CAAV;AAWH,KAhDL,EAiDI,KAjDJ;AAmDH,GAtDM,CAAP;AAuDH,CA9DD;;AAgEe3B,+EAAf,E","file":"accordion.js","sourcesContent":["import 'gsap/ScrollToPlugin';\nimport { forEach, query } from '../utils';\nimport { TweenMax } from 'gsap';\nimport { easing, globalStyles } from '../global';\n\nconst accordionHandler = () => {\n    const accordions = query({\n        selector: '.wp-block-stereoberg-question-answer',\n    });\n\n    if (!accordions.length) return;\n\n    forEach(accordions, accordion => {\n        const [title] = query({ selector: 'h3', ctx: accordion });\n\n        title.addEventListener(\n            'click',\n            () => {\n                const parent = title.parentElement;\n                const answer = query({\n                    selector: '.js-answer',\n                    ctx: title.parentElement,\n                });\n                const alreadyActivated = parent.classList.contains('activated');\n                const [answerContent] = query({\n                    selector: '.answer-content',\n                    ctx: title.parentElement,\n                });\n                const maxHeight = answerContent.getBoundingClientRect().height;\n\n                forEach(accordions, resetParent => {\n                    resetParent.classList.remove('activated');\n                    TweenMax.to(\n                        query({ selector: '.js-answer', ctx: resetParent }),\n                        0.3,\n                        {\n                            maxHeight: 0,\n                            opacity: 0,\n                            ease: easing.easeFade,\n                        }\n                    );\n                });\n\n                if (alreadyActivated) return;\n\n                TweenMax.to(answer, 0.3, {\n                    maxHeight,\n                    opacity: 1,\n                    ease: easing.easeFade,\n                });\n                parent.classList.add('activated');\n\n                setTimeout(() => {\n                    const offset =\n                        title.getBoundingClientRect().top + window.scrollY;\n                    TweenMax.to(window, 0.5, {\n                        scrollTo: {\n                            y: offset,\n                            offsetY: globalStyles.lineHeight,\n                        },\n                        ease: easing.easeFade,\n                    });\n                }, 600);\n            },\n            false\n        );\n    });\n};\n\nexport default accordionHandler;\n"],"sourceRoot":""}