{"version":3,"sources":["webpack:///./wp-content/themes/think/src/js/components/offersMenu.js"],"names":["offersMenuHandler","query","selector","offersMenu","offers","menuHeight","getBoundingClientRect","height","anchors","getElementsByTagName","imagesLoaded","collant","minimumWidth","forEach","anchor","addEventListener","event","preventDefault","sectionId","href","split","pop","slice","section","document","getElementById","setTimeout","offset","top","window","scrollY","TweenMax","to","scrollTo","y","offsetY","globalStyles","lineHeight","ease","easing","easeFade","superWindow","addResizeFunction"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA,eACPC,oDAAK,CAAC;AAAEC,YAAQ,EAAE;AAAZ,GAAD,CADE;AAAA;AAAA,MACrBC,UADqB;;AAG5B,MAAI,CAACA,UAAL,EAAiB;;AAHW,gBAIXF,oDAAK,CAAC;AAAEC,YAAQ,EAAE;AAAZ,GAAD,CAJM;AAAA;AAAA,MAIrBE,MAJqB;;AAK5B,MAAIC,UAAU,GAAGF,UAAU,CAACG,qBAAX,GAAmCC,MAApD;;AACA,MAAMC,OAAO,sBAAOL,UAAU,CAACM,oBAAX,CAAgC,GAAhC,CAAP,CAAb;;AAEAC,qDAAY,CAACN,MAAD,EAAS,YAAM;AACvBO,kDAAO,CAACR,UAAD,EAAa,CAAb,EAAgB;AACnBS,kBAAY,EAAE;AADK,KAAhB,CAAP;AAGH,GAJW,CAAZ;AAMAC,wDAAO,CAACL,OAAD,EAAU,UAAAM,MAAM,EAAI;AACvBA,UAAM,CAACC,gBAAP,CACI,OADJ,EAEI,UAAAC,KAAK,EAAI;AACLA,WAAK,CAACC,cAAN;AAEA,UAAMC,SAAS,GAAGJ,MAAM,CAACK,IAAP,CACbC,KADa,CACP,GADO,EAEbC,GAFa,GAGbC,KAHa,CAGP,CAHO,CAAlB;AAIA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBP,SAAxB,CAAhB;;AACA,UAAIK,OAAJ,EAAa;AACTG,kBAAU,CAAC,YAAM;AACb,cAAMC,MAAM,GACRJ,OAAO,CAACjB,qBAAR,GAAgCsB,GAAhC,GACAC,MAAM,CAACC,OADP,GAEAzB,UAHJ;AAIA0B,uDAAQ,CAACC,EAAT,CAAYH,MAAZ,EAAoB,GAApB,EAAyB;AACrBI,oBAAQ,EAAE;AACNC,eAAC,EAAEP,MADG;AAENQ,qBAAO,EAAEC,oDAAY,CAACC;AAFhB,aADW;AAKrBC,gBAAI,EAAEC,8CAAM,CAACC;AALQ,WAAzB;AAOH,SAZS,EAYP,GAZO,CAAV;AAaH;AACJ,KAzBL,EA0BI,KA1BJ;AA4BH,GA7BM,CAAP;AA+BAC,6DAAW,CAACC,iBAAZ,CAA8B,YAAM;AAChCrC,cAAU,GAAGF,UAAU,CAACG,qBAAX,GAAmCC,MAAhD;AACH,GAFD;AAGH,CAhDD;;AAkDeP,gFAAf,E","file":"offersMenu.js","sourcesContent":["import { superWindow } from '@stereorepo/sac';\nimport collant from 'collant';\nimport imagesLoaded from 'imagesloaded';\nimport { TweenMax } from 'gsap';\nimport 'gsap/ScrollToPlugin';\n\nimport { easing, globalStyles } from '../global';\nimport { forEach, query } from '../utils';\n\nconst offersMenuHandler = () => {\n    const [offersMenu] = query({ selector: '#offers-menu' });\n\n    if (!offersMenu) return;\n    const [offers] = query({ selector: '#offers' });\n    let menuHeight = offersMenu.getBoundingClientRect().height;\n    const anchors = [...offersMenu.getElementsByTagName('a')];\n\n    imagesLoaded(offers, () => {\n        collant(offersMenu, 0, {\n            minimumWidth: 960,\n        });\n    });\n\n    forEach(anchors, anchor => {\n        anchor.addEventListener(\n            'click',\n            event => {\n                event.preventDefault();\n\n                const sectionId = anchor.href\n                    .split('/')\n                    .pop()\n                    .slice(1);\n                const section = document.getElementById(sectionId);\n                if (section) {\n                    setTimeout(() => {\n                        const offset =\n                            section.getBoundingClientRect().top +\n                            window.scrollY -\n                            menuHeight;\n                        TweenMax.to(window, 0.5, {\n                            scrollTo: {\n                                y: offset,\n                                offsetY: globalStyles.lineHeight,\n                            },\n                            ease: easing.easeFade,\n                        });\n                    }, 100);\n                }\n            },\n            false\n        );\n    });\n\n    superWindow.addResizeFunction(() => {\n        menuHeight = offersMenu.getBoundingClientRect().height;\n    });\n};\n\nexport default offersMenuHandler;\n"],"sourceRoot":""}